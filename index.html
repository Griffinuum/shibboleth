<!DOCTYPE html>
<html>
  <head>
    <meta content='initial-scale=1.0' name='viewport' />
    <meta content='text/html;charset=UTF-8' http-equiv='content-type' />
    <title>Shibboleth</title>
    <style type='text/css'>
      /*<![CDATA[*/
        body {
          margin:0;
          font-family:Helvetica;
          background-color:#456;
        }
        h1 {
          text-shadow:#ddd 0px 2px 0px;
          margin-top:0;
        }
        .bar {
          margin-top:20%;
          float:left;
          /margin-left:65%;
          padding:3em 1em;
          text-align:center;
        }
        .bar div {
          position:fixed;
        }
        .article {
          float:left;
          padding:1em;
          / text-align:justify;
          / position:absolute;
          / display:inline-block;
          width:65%;
          background-color:#dadada;
          / top:0;
          / bottom:0;
          -webkit-box-shadow: -5px 0px 5px -2px #888 inset;
          text-shadow:#fff 0px 1px 0px;
        }
        ::selection {
          background-color:#ff8;
        }
        a.internal {
          display:block;
          padding: 0.5em 1em;
          background-color: #ddd;
          border-radius: 3px;
          text-decoration: none;
          font-weight: bold;
          color: #222;
          white-space: nowrap;
          background-image: -moz-linear-gradient(top, #ddd, #bbb);
          background-image: -webkit-linear-gradient(top, #ddd, #bbb);
          background-image: -o-linear-gradient(top, #ddd, #bbb);
          background-repeat: no-repeat;
          box-shadow: 0 0.1em 0.3em  #000;
          text-align:center;
          margin:0.5em;
        }
        a.internal:active, input[type=button]:active {
          box-shadow: 0 0.1em 0.3em #000 inset;
        }
        a.internal:hover {
          color: blue;
          background-color: #ccc;
          background-image: -moz-linear-gradient(top, #eee, #ccc);
          background-image: -webkit-linear-gradient(top, #eee, #ccc);
          background-image: -o-linear-gradient(top, #eee, #ccc);
          background-repeat: no-repeat;
        }
        a.internal span {
          /*background-image:url('images/l.gif');*/
          background-repeat: no-repeat;
          / padding-left:24px;
        }
        span.salted {
          background-image:url('images/salt.png');
          background-repeat: no-repeat;
          padding-left:24px;
        }
        input[type=text] {
          font-weight:bold;
          font-size:1em;
        }
        input[type=button] {
          font-size:1em;
          margin:0.5em;
          border: 1px solid #294d6b;
          padding: 0.5em 1em;
          background-color: #ddd;
          border-radius: 3px;
          font-weight: bold;
          color: #222;
          white-space: nowrap;
          background-image: -moz-linear-gradient(top, #ddd, #bbb);
          background-image: -webkit-linear-gradient(top, #ddd, #bbb);
          background-image: -o-linear-gradient(top, #ddd, #bbb);
          background-repeat: no-repeat;
          box-shadow: 0 0.1em 0.3em  #000;
          text-align:center;
        }
        code {
          border-radius:3px;
          / border:1px solid black;
          background-color:white;
        }
        pre code {
          background-color:transparent;
          border-radius:none;
        }
        @media screen and (max-width:500px) {
          .article {
            float:none;
            width:auto;
            padding:1em;
            background-color:#d5d5d5;
            -webkit-box-shadow: 0px 5px 5px -2px #222;
          }
          .bar {
            float:none;
            margin-right:auto;
            margin-left:auto;
          }
          .bar div {
            position:static;
            width:100%;
          }
          a.internal {
            width:auto;
          }
          pre {
            overflow-x:scroll;
            overflow-y:hidden;
            background-color:white;
            padding:1em;
          }
        }
      /*]]>*/
    </style>
    <script type='text/javascript'>
      //<![CDATA[
        function $(selector) { return document.querySelector(selector); }
        document.addEventListener('DOMContentLoaded', function() {
          $('#sprinkle').addEventListener('click', function() {
            var actions = [{url: '/bookmarklet.js', eid: 'salt-js'}, {url: '/app', eid: 'salt-app'}];
            for (var i=0;i<actions.length;i++) {
              (function(){
                var x = i;//scope it
                var xhr = new XMLHttpRequest();
                xhr.open("GET", 'https://stormy-night-7144.herokuapp.com' + actions[x].url + "?salt=" + $('#salt').value);
                xhr.onreadystatechange = function(){
                  if (xhr.readyState == 4 && xhr.status == 200) {
                    $('#' + actions[x].eid).setAttribute('href', xhr.responseText);
                    $('#' + actions[x].eid + ' span').setAttribute('class', 'salted');
                  }
                }
                xhr.send(null);
              }).call(this);
              //switch widget url
              $('#widget').setAttribute('href', 'https://stormy-night-7144.herokuapp.com/widget.zip?salt=' + $('#salt').value);
              $('#widget span').setAttribute('class', 'salted');
            }
          }, true)
        }, true)
      //]]>
    </script>
  </head>
  <body>
    <div class='article'>
      <h1>Shibboleth</h1>
      
      <p>Sick of juggling passwords in your head? Making each one different enough so to not expose yourself to risk? Shibboleth lets you remember one single master password - and uses it to <em>generate</em> a unique password per website.</p>
      
      <h3>How does it work?</h3>
      
      <p>Suppose you are logging into Gmail; the URL would look something like this:</p>
      
      <pre><code>https://accounts.google.com/ServiceLogin?service=mailâ€¦&#x000A;</code></pre>
      
      <p>Shibboleth will mash your master password with the <a href="http://en.wikipedia.org/wiki/Top-level_domain">Top-level Domain</a> (TLD), in this case <code>google.com</code>, and create a password unique to <code>google.com</code>. To do this it runs your master password and current TLD through a <a href="http://en.wikipedia.org/wiki/Cryptographic_hash_function">cryptographic hash function</a>, specifically the SHA-256 function.</p>
      
      <h3>How do i use it?</h3>
      
      <p>There are three ways to use Shibboleth.</p>
      
      <h4>Bookmarklet</h4>
      
      <p>This is a little snippet of javascript that is saved as a bookmark in your browser. When you need to log into a website you fill in your username and master password, then click on the Shibboleth bookmarklet and it will replace your master password with your unique password for that particular website.</p>
      
      <h4>Web App</h4>
      
      <p>Sometimes, specifically on mobile devices, you will be logging into sites through native applications and the bookmarklet method is not an option. So the standalone web page allows you to manually set the TLD, generate your unique password, copy to the clipboard, &amp; paste it in the native application.</p>
      
      <p>The standalone web page is encoded into a data uri, so no internet access is required to use it.</p>
      
      <h4>OS X Widget</h4>
      
      <p>The widget is very similar to the web app, but allows easier access for OS X applications. If you want to log into <strike>iChat</strike> Messages simply pop up the Dashboard and fill out the Shibboleth widget. Due to the special access widgets have to OS X resources the password is copied directly to the clipboard. Pop back to <strike>iChat</strike> Messages and paste the password.</p>
      
      <h3>Is my password stored anywhere?</h3>
      
      <p>Nope. The bookmarklet and standalone web page are both stored on your computer and do not communicate with any server. Check out the source code at <a href="https://github.com/firien/shibboleth">github</a>.</p>
      
      <h3>Site ***.com limits my password to 10 characters</h3>
      
      <p>No problem, append ':xxx' to your master password to truncate it. For example 'master:16' will generate a password only 16 characters long.</p>
      
      <h3>Salting</h3>
      
      <p>You can choose to include a <a href="http://en.wikipedia.org/wiki/Salt_%28cryptography%29">Salt</a> in Shibboleth's javascript. This is just one more layer of security (&amp; complexity). This will regenerate the links with javascript that is unique to you. You must use the same Salt to regenerate</p>
    </div>
    <div class='bar'>
      <a class='internal' href='javascript:(function()%7Bvar%20a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;l=8,n=0,a=function(a)%7Breturn%20document.querySelector(a)%7D,t=function(a,b)%7Bvar%20c,d;return%20c=(a&amp;65535)+(b&amp;65535),d=(a%3E%3E16)+(b%3E%3E16)+(c%3E%3E16),d%3C%3C16%7Cc&amp;65535%7D,g=function(a,b)%7Breturn%20a%3E%3E%3Eb%7Ca%3C%3C32-b%7D,f=function(a,b)%7Breturn%20a%3E%3E%3Eb%7D,b=function(a,b,c)%7Breturn%20a&amp;b%5E~a&amp;c%7D,e=function(a,b,c)%7Breturn%20a&amp;b%5Ea&amp;c%5Eb&amp;c%7D,h=function(a)%7Breturn%20g(a,2)%5Eg(a,13)%5Eg(a,22)%7D,i=function(a)%7Breturn%20g(a,6)%5Eg(a,11)%5Eg(a,25)%7D,c=function(a)%7Breturn%20g(a,7)%5Eg(a,18)%5Ef(a,3)%7D,d=function(a)%7Breturn%20g(a,17)%5Eg(a,19)%5Ef(a,10)%7D,m=function(a,f)%7Bvar%20g,j,k,l,m,n,o,p,q,r,s,u,v,w,x,y;j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],g=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],m=Array(64),a[f%3E%3E5]%7C=128%3C%3C24-f%2532,a[(f+64%3E%3E9%3C%3C4)+15]=f;for(w=0,y=a.length;w%3Cy;w+=16)%7Bn=g[0],o=g[1],p=g[2],q=g[3],r=g[4],s=g[5],u=g[6],v=g[7];for(x=0;x%3C64;x++)x%3C16?m[x]=a[x+w]:m[x]=t(t(t(d(m[x-2]),m[x-7]),c(m[x-15])),m[x-16]),k=t(t(t(t(v,i(r)),b(r,s,u)),j[x]),m[x]),l=t(h(n),e(n,o,p)),v=u,u=s,s=r,r=t(q,k),q=p,p=o,o=n,n=t(k,l);g[0]=t(n,g[0]),g[1]=t(o,g[1]),g[2]=t(p,g[2]),g[3]=t(q,g[3]),g[4]=t(r,g[4]),g[5]=t(s,g[5]),g[6]=t(u,g[6]),g[7]=t(v,g[7])%7Dreturn%20g%7D,v=function(a)%7Bvar%20b,c,d,e;b=[],d=(1%3C%3Cl)-1;for(c=0,e=a.length*l;0%3C=e?c%3Ce:c%3Ee;c+=l)b[c%3E%3E5]%7C=(a.charCodeAt(c/l)&amp;d)%3C%3C24-c%2532;return%20b%7D,j=function(a)%7Bvar%20b,c,d,e;a=a.replace(/%5Cr%5Cn/g,%22%5Cn%22),d=%22%22;for(c=0,e=a.length;0%3C=e?c%3Ce:c%3Ee;0%3C=e?c++:c--)b=a.charCodeAt(c),b%3C128?d+=String.fromCharCode(b):b%3E127&amp;&amp;b%3C2048?(d+=String.fromCharCode(b%3E%3E6%7C192),d+=String.fromCharCode(b&amp;63%7C128)):(d+=String.fromCharCode(b%3E%3E12%7C224),d+=String.fromCharCode(b%3E%3E6&amp;63%7C128),d+=String.fromCharCode(b&amp;63%7C128));return%20d%7D,k=function(a)%7Bvar%20b,c,d,e;b=n?%220123456789ABCDEF%22:%220123456789abcdef%22,d=%22%22;for(c=0,e=a.length*4;0%3C=e?c%3Ce:c%3Ee;0%3C=e?c++:c--)d+=b.charAt(a[c%3E%3E2]%3E%3E(3-c%254)*8+4&amp;15)+b.charAt(a[c%3E%3E2]%3E%3E(3-c%254)*8&amp;15);return%20d%7D,u=%22%22,w=window.location.hostname,o=a(%22input[type=password]%22);if(o==null)%7Balert(%22could%20not%20find%20password%20input%22);return%7Dr=o.value;if(r===%22%22)return;p=22,q=r.match(/(.*?):(%5Cd+)$/),q&amp;&amp;(r=q[1],p=Number(q[2])),q=null,q=w.match(/(?:%5Cw+%5C.)*?(%5Cw+%5C.(?:com%7Cgov%7Corg%7Cnet%7Cco%5C.uk%7Cco%7Cmil)$)/),q&amp;&amp;(w=q[1]),s=j(r+w+u),o.value=k(m(v(s),s.length*l)).substring(0,p)%7D).call(this)' id='salt-js' title='shibboleth.js'>
        <span>Bookmarklet</span>
      </a>
      <a class='internal' href='data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sPgogIDxoZWFkPgogICAgPHRpdGxlPnNoaWJib2xldGg8L3RpdGxlPgogICAgPG1ldGEgY29udGVudD0naW5pdGlhbC1zY2FsZT0xLjAnIG5hbWU9J3ZpZXdwb3J0JyAvPgogICAgPG1ldGEgY29udGVudD0neWVzJyBuYW1lPSdhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlJyAvPgogICAgPGxpbmsgaHJlZj0naHR0cDovL2Zpcmllbi5naXRodWIuY29tL3NoaWJib2xldGgvaW1hZ2VzL2ljb24taXBob25lLnBuZycgcmVsPSdhcHBsZS10b3VjaC1pY29uLXByZWNvbXBvc2VkJyBzaXplcz0nNTd4NTcnIC8+CiAgICA8bGluayBocmVmPSdodHRwOi8vZmlyaWVuLmdpdGh1Yi5jb20vc2hpYmJvbGV0aC9pbWFnZXMvaWNvbi1pcGhvbmVAMngucG5nJyByZWw9J2FwcGxlLXRvdWNoLWljb24tcHJlY29tcG9zZWQnIHNpemVzPScxMTR4MTE0JyAvPgogICAgPGxpbmsgaHJlZj0naHR0cDovL2Zpcmllbi5naXRodWIuY29tL3NoaWJib2xldGgvaW1hZ2VzL2ljb24taXBhZC5wbmcnIHJlbD0nYXBwbGUtdG91Y2gtaWNvbi1wcmVjb21wb3NlZCcgc2l6ZXM9JzcyeDcyJyAvPgogICAgPGxpbmsgaHJlZj0naHR0cDovL2Zpcmllbi5naXRodWIuY29tL3NoaWJib2xldGgvaW1hZ2VzL2ljb24taXBhZEAyeC5wbmcnIHJlbD0nYXBwbGUtdG91Y2gtaWNvbi1wcmVjb21wb3NlZCcgc2l6ZXM9JzE0NHgxNDQnIC8+CiAgICA8bGluayBocmVmPSdodHRwOi8vZmlyaWVuLmdpdGh1Yi5jb20vc2hpYmJvbGV0aC9pbWFnZXMvc3RhcnR1cC1pcGhvbmUucG5nJyByZWw9J2FwcGxlLXRvdWNoLXN0YXJ0dXAtaW1hZ2UnIC8+CiAgICA8IS0tICVsaW5re3JlbDogJ2FwcGxlLXRvdWNoLXN0YXJ0dXAtaW1hZ2UnLCBzaXplczogIjc2OHgxMDA0IiwgaHJlZjogJ2h0dHA6Ly9maXJpZW4uZ2l0aHViLmNvbS9zaGliYm9sZXRoL2ltYWdlcy9zdGFydHVwLWlwYWQucG5nJ30gLS0+CiAgICA8IS0tICVsaW5re3JlbDogJ2FwcGxlLXRvdWNoLXN0YXJ0dXAtaW1hZ2UnLCBzaXplczogIjEwMjR4NzQ4IiwgaHJlZjogJ2h0dHA6Ly9maXJpZW4uZ2l0aHViLmNvbS9zaGliYm9sZXRoL2ltYWdlcy9zdGFydHVwLWlwYWRAbGFuZHNjYXBlLnBuZyd9IC0tPgogICAgPCEtLSAlbGlua3tyZWw6ICdzdHlsZXNoZWV0JywgaHJlZjogJy9hc3NldHMvc2hpYmJvbGV0aC5jc3MnLCB0eXBlOiAndGV4dC9jc3MnLCBtZWRpYTogJ3NjcmVlbid9IC0tPgogICAgPHN0eWxlIHR5cGU9J3RleHQvY3NzJz4KICAgICAgICAgICAgICAgICAgICAvKjwhW0NEQVRBWyovCiAgICAgICAgICAgICAgICAgICAgICBib2R5IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogSGVsdmV0aWNhOwogICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkY2RmZTU7IH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgaW5wdXQsIG91dHB1dCB7CiAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjJlbTsKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDMxMHB4OyB9CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIGlucHV0IHsKICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IHJpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwIDEwcHggMCAwOwogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYWJhYmFiOwogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDAgMCAwLjVlbTsKICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIDFlbSAwIDA7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qICAtd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UtaW4tb3V0OyovCiAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94OwogICAgICAgICAgICAgICAgICAgICAgICAtbW96LWJveC1zaXppbmc6IGNvbnRlbnQtYm94OwogICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWJveC1zaXppbmc6IGNvbnRlbnQtYm94OyB9CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMHB4IDBweCAxMHB4IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDQ0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2FiYWJhYjsKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCAwLjVlbSAwIDAuNWVtOwogICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgMWVtIDAgMWVtOwogICAgICAgICAgICAgICAgICAgICAgICAvKiAgYm94LXNpemluZzogYm9yZGVyLWJveDsqLwogICAgICAgICAgICAgICAgICAgICAgICAvKiAgLXdlYmtpdC1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7Ki8KICAgICAgICAgICAgICAgICAgICAgICAgLyogIG1hcmdpbjoycHggMDsqLyB9CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIGxhYmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjJlbTsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMCAwIDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYWJhYmFiOwogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogODAlOwogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA0NHB4OwogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1pbmRlbnQ6IDFlbTsKICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIDAgMCAxZW07IH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgLypsYWJlbFtmb3I9cGFzc3dvcmRdIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjQ0cHg7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICAgICAgbGFiZWxbZm9yPXBhc3N3b3JkXSwgaW5wdXRbdHlwZT1wYXNzd29yZF0gewogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwOwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wOiBub25lOyB9CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIC50aXRsZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogLTEwcHggMWVtIDFlbSAxZW07CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAgMCAxMHB4IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA0NHB4OwogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzcxNzg4MDsKICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjJlbTsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjVmNzsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZjRmNWY3LCAjYThhY2I5KTsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZjRmNWY3KSwgdG8oI2E4YWNiOSkpOwogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LXNoYWRvdzogI2VlZCAwcHggMXB4IDBweDsKICAgICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogYmxhY2sgMCAxcHggNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6IGJsYWNrIDAgMXB4IDRweDsgfQogICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICBpbnB1dDpmb2N1cyB7CiAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZTA7IH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgYSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtOwogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzRjNTY2YzsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IHdoaXRlIDBweCAxcHggMHB4OwogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgZm9ybSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCAwIDEwcHggMDsgfQogICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1MDBweCkgewogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4yZW07CiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2FiYWJhYjsKICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwOwogICAgICAgICAgICAgICAgICAgICAgICAgIC8qICAgIGJvcmRlci1jb2xvcjogcmdiKDE3MSwxNzEsMTcxKTsqLwogICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogbm9ybWFsOwogICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICAgICAgICAgICAgICAgIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFt0eXBlPXVybF0gewogICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwcHggMHB4OyB9CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRbdHlwZT1wYXNzd29yZF0gewogICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IC0xcHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNhYmFiYWI7IH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgewogICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMmVtOwogICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMHB4IDBweCAxMHB4IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2FiYWJhYjsKICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAtMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA0NXB4OwogICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7IH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDpmb2N1cyB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IH0KICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgewogICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZDg0YTI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjYjBiY2NkLCAjODg5YmIzIDUwJSwgIzgxOTVhZiA1MCUsICM2ZDg0YTIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2IwYmNjZCksIHRvKCM2ZDg0YTIpLCBjb2xvci1zdG9wKDAuNSwgIzg4OWJiMyksIGNvbG9yLXN0b3AoMC41LCAjODE5NWFmKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMDsKICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IC0xMHB4IC0xMHB4IDEwcHggLTEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMmQzNjQyOwogICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjY2JkNWRmOwogICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiAjNDQ0NDQ0IDBweCAtMXB4IDBweDsKICAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtYm94LXNoYWRvdzogbm9uZTsgfQogICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOyB9CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgYm9keSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBuTVM0d0p5QmxibU52WkdsdVp6MG5kWFJtTFRnbklEOCtDandoUkU5RFZGbFFSU0J6ZG1jZ1VGVkNURWxESUNJdEx5OVhNME12TDBSVVJDQlRWa2NnTVM0eEx5OUZUaUlnSW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTDBkeVlYQm9hV056TDFOV1J5OHhMakV2UkZSRUwzTjJaekV4TG1SMFpDSStDanh6ZG1jZ2FHVnBaMmgwUFNjM0p5QjJhV1YzUW05NFBTY3dJREFnTnlBM0p5QjNhV1IwYUQwbk55Y2dlRzFzYm5NOUoyaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabkp6NEtJQ0E4SVMwdElDZDRiV3h1Y3pwNGJHbHVheWNnUFQ0Z0oyaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc25mU0F0TFQ0S0lDQThjM1I1YkdVZ2RIbHdaVDBuZEdWNGRDOWpjM01uUGdvZ0lDQWdMeW84SVZ0RFJFRlVRVnNxTHdvZ0lDQWdJQ0J5WldOMElIc0tJQ0FnSUNBZ0lDQnpkSEp2YTJVNmJtOXVaUW9nSUNBZ0lDQjlDaUFnSUNBdktsMWRQaW92Q2lBZ1BDOXpkSGxzWlQ0S0lDQThjbVZqZENCb1pXbG5hSFE5SnpjbklITjBlV3hsUFNkbWFXeHNPbkpuWWlneE9UY3NNakEwTERJeE1pa25JSGRwWkhSb1BTYzFKeUI0UFNjd0p5QjVQU2N3Sno0OEwzSmxZM1ErQ2lBZ1BISmxZM1FnYUdWcFoyaDBQU2MzSnlCemRIbHNaVDBuWm1sc2JEcHlaMklvTWpBekxESXhNQ3d5TVRZcEp5QjNhV1IwYUQwbk1pY2dlRDBuTlNjZ2VUMG5NQ2MrUEM5eVpXTjBQZ284TDNOMlp6NEsiKTsgfSB9CiAgICAgICAgICAgICAgICAgICAgLypdXT4qLwogICAgICAgICAgICAgICAgICA8L3N0eWxlPgogICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPgogICAgICAgICAgICAgICAgICAgIC8vPCFbQ0RBVEFbCiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaGliYm9sZXRoKCkgewogICAgICAgICAgICAgICAgICAgICAgICAvL2p1c3QgdXNlIGNvZmZlZXNjcmlwdHMgYW5vbnltb3VzIGV4ZWN1dGVkIGZ1bmN0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHc7bD04LG49MCxhPWZ1bmN0aW9uKGEpe3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEpfSx0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtyZXR1cm4gYz0oYSY2NTUzNSkrKGImNjU1MzUpLGQ9KGE+PjE2KSsoYj4+MTYpKyhjPj4xNiksZDw8MTZ8YyY2NTUzNX0sZz1mdW5jdGlvbihhLGIpe3JldHVybiBhPj4+YnxhPDwzMi1ifSxmPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Pj5ifSxiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYSZiXn5hJmN9LGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhJmJeYSZjXmImY30saD1mdW5jdGlvbihhKXtyZXR1cm4gZyhhLDIpXmcoYSwxMyleZyhhLDIyKX0saT1mdW5jdGlvbihhKXtyZXR1cm4gZyhhLDYpXmcoYSwxMSleZyhhLDI1KX0sYz1mdW5jdGlvbihhKXtyZXR1cm4gZyhhLDcpXmcoYSwxOCleZihhLDMpfSxkPWZ1bmN0aW9uKGEpe3JldHVybiBnKGEsMTcpXmcoYSwxOSleZihhLDEwKX0sbT1mdW5jdGlvbihhLGYpe3ZhciBnLGosayxsLG0sbixvLHAscSxyLHMsdSx2LHcseCx5O2o9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0sZz1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLG09QXJyYXkoNjQpLGFbZj4+NV18PTEyODw8MjQtZiUzMixhWyhmKzY0Pj45PDw0KSsxNV09Zjtmb3Iodz0wLHk9YS5sZW5ndGg7dzx5O3crPTE2KXtuPWdbMF0sbz1nWzFdLHA9Z1syXSxxPWdbM10scj1nWzRdLHM9Z1s1XSx1PWdbNl0sdj1nWzddO2Zvcih4PTA7eDw2NDt4KyspeDwxNj9tW3hdPWFbeCt3XTptW3hdPXQodCh0KGQobVt4LTJdKSxtW3gtN10pLGMobVt4LTE1XSkpLG1beC0xNl0pLGs9dCh0KHQodCh2LGkocikpLGIocixzLHUpKSxqW3hdKSxtW3hdKSxsPXQoaChuKSxlKG4sbyxwKSksdj11LHU9cyxzPXIscj10KHEsaykscT1wLHA9byxvPW4sbj10KGssbCk7Z1swXT10KG4sZ1swXSksZ1sxXT10KG8sZ1sxXSksZ1syXT10KHAsZ1syXSksZ1szXT10KHEsZ1szXSksZ1s0XT10KHIsZ1s0XSksZ1s1XT10KHMsZ1s1XSksZ1s2XT10KHUsZ1s2XSksZ1s3XT10KHYsZ1s3XSl9cmV0dXJuIGd9LHY9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Yj1bXSxkPSgxPDxsKS0xO2ZvcihjPTAsZT1hLmxlbmd0aCpsOzA8PWU/YzxlOmM+ZTtjKz1sKWJbYz4+NV18PShhLmNoYXJDb2RlQXQoYy9sKSZkKTw8MjQtYyUzMjtyZXR1cm4gYn0saj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZTthPWEucmVwbGFjZSgvXHJcbi9nLCJcbiIpLGQ9IiI7Zm9yKGM9MCxlPWEubGVuZ3RoOzA8PWU/YzxlOmM+ZTswPD1lP2MrKzpjLS0pYj1hLmNoYXJDb2RlQXQoYyksYjwxMjg/ZCs9U3RyaW5nLmZyb21DaGFyQ29kZShiKTpiPjEyNyYmYjwyMDQ4PyhkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGI+PjZ8MTkyKSxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGImNjN8MTI4KSk6KGQrPVN0cmluZy5mcm9tQ2hhckNvZGUoYj4+MTJ8MjI0KSxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGI+PjYmNjN8MTI4KSxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGImNjN8MTI4KSk7cmV0dXJuIGR9LGs9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Yj1uPyIwMTIzNDU2Nzg5QUJDREVGIjoiMDEyMzQ1Njc4OWFiY2RlZiIsZD0iIjtmb3IoYz0wLGU9YS5sZW5ndGgqNDswPD1lP2M8ZTpjPmU7MDw9ZT9jKys6Yy0tKWQrPWIuY2hhckF0KGFbYz4+Ml0+PigzLWMlNCkqOCs0JjE1KStiLmNoYXJBdChhW2M+PjJdPj4oMy1jJTQpKjgmMTUpO3JldHVybiBkfSx1PSIiLHc9YSgiaW5wdXRbdHlwZT11cmxdIikudmFsdWU7aWYodz09PSIiKXJldHVybjtvPWEoImlucHV0W3R5cGU9cGFzc3dvcmRdIik7aWYobz09bnVsbCl7YWxlcnQoImNvdWxkIG5vdCBmaW5kIHBhc3N3b3JkIGlucHV0Iik7cmV0dXJufXI9by52YWx1ZTtpZihyPT09IiIpcmV0dXJuO3A9MjIscT1yLm1hdGNoKC8oLio/KTooXGQrKSQvKSxxJiYocj1xWzFdLHA9TnVtYmVyKHFbMl0pKSxxPW51bGwscT13Lm1hdGNoKC8oPzpcdytcLikqPyhcdytcLig/OmNvbXxnb3Z8b3JnfG5ldHxjb1wudWt8Y298bWlsKSQpLykscSYmKHc9cVsxXSkscz1qKHIrdyt1KSxvPWEoIm91dHB1dCIpLGEoImZvcm0iKS5yZXNldCgpLG8udGV4dENvbnRlbnQ9ayhtKHYocykscy5sZW5ndGgqbCkpLnN1YnN0cmluZygwLHApfSkuY2FsbCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJDsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9faW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mIHx8IGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgJCA9IGZ1bmN0aW9uKHNlbGVjdG9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuJCA9ICQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiwgdDsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKF9faW5kZXhPZi5jYWxsKHdpbmRvdy5uYXZpZ2F0b3IsICJzdGFuZGFsb25lIikgPj0gMCkgJiYgKCF3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIudGl0bGUiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICBmID0gJCgiZm9ybSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGYuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiaW5wdXRbdHlwZT1wYXNzd29yZF0iKS5ibHVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9ICQoImlucHV0W3R5cGU9cGFzc3dvcmRdIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNoaWJib2xldGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCJpbnB1dFt0eXBlPXBhc3N3b3JkXSIpLmJsdXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9KS5jYWxsKHRoaXMpOwogICAgICAgICAgICAgICAgICAgIC8vXV0+CiAgICAgICAgICAgICAgICAgIDwvc2NyaXB0PgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxkaXYgaWQ9J3dyYXBwZXInPgogICAgICA8ZGl2IGNsYXNzPSd0aXRsZSc+U2hpYmJvbGV0aDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSdiZyc+CiAgICAgICAgPGZvcm0+CiAgICAgICAgICA8aW5wdXQgYXV0b2NhcGl0YWxpemU9J29mZicgYXV0b2ZvY3VzPSdhdXRvZm9jdXMnIHBsYWNlaG9sZGVyPSd3d3cuaG9zdC5jb20nIHR5cGU9J3VybCcgLz4KICAgICAgICAgIDxsYWJlbCBmb3I9J2hvc3QnPlRMRDwvbGFiZWw+CiAgICAgICAgICA8aW5wdXQgcGxhY2Vob2xkZXI9J3Bhc3N3b3JkJyB0eXBlPSdwYXNzd29yZCcgLz4KICAgICAgICAgIDxsYWJlbCBmb3I9J3Bhc3N3b3JkJz5QYXNzd29yZDwvbGFiZWw+CiAgICAgICAgICA8b3V0cHV0Pjwvb3V0cHV0PgogICAgICAgIDwvZm9ybT4KICAgICAgICA8YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vZmlyaWVuL3NoaWJib2xldGgnPmh0dHBzOi8vZ2l0aHViLmNvbS9maXJpZW4vc2hpYmJvbGV0aDwvYT4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICA8L2JvZHk+CjwvaHRtbD4K' id='salt-app' title='shibboleth.app'>
        <!-- =haml 'loading.svg'.to_sym, locals: {angle: 0} -->
        <span>Web App</span>
      </a>
      <a class='internal' href='https://stormy-night-7144.herokuapp.com/widget.zip' id='widget' title='widget'>
        <span>OS X Widget</span>
      </a>
      <input id='salt' name='salt' placeholder='Salt' type='text' />
      <br />
      <input id='sprinkle' type='button' value='Regenerate with Salt' />
    </div>
    <a href='https://github.com/firien/shibboleth'>
      <img alt='Fork me on GitHub' src='https://a248.e.akamai.net/assets.github.com/img/7afbc8b248c68eb468279e8c17986ad46549fb71/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67' style='position: absolute; top: 0; right: 0; border: 0' />
    </a>
  </body>
</html>